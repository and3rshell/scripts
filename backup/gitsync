#!/usr/bin/env bash

gitPush() {
    local pushDir="$1"

    echo -e "\e[1;34mCurrent dir: $pushDir\e[0m"
    cd "$pushDir" || exit 1
    git add . || exit 1
    git commit -m "sync"
    git push || exit 1
    echo -e "\n======\n"
}

gitPull() {
    local pullDir="$1"

    echo -e "\e[1;34mCurrent dir: $pullDir\e[0m"
    cd "$pullDir" || exit 1
    git pull || exit 1
    echo -e "\n======\n"
}

gitStatus() {
    local statusDir="$1"

    echo -e "\e[1;34mCurrent dir: $statusDir\e[0m"
    cd "$statusDir" || exit 1
    git status
    echo -e "\n======\n"
}

case "$1" in
    "status")
        gitStatus "$HOME/.local/scripts"
        gitStatus "$HOME/.local/synced-doc"
        gitStatus "$HOME/.config/nvim"
        ;;
    "push")
        gitPush "$HOME/.local/scripts"
        gitPush "$HOME/.local/synced-doc"
        gitPush "$HOME/.config/nvim"
        ;;
    "pull")
        gitPull "$HOME/.local/scripts"
        gitPull "$HOME/.local/synced-doc"
        gitPull "$HOME/.config/nvim"
        ;;
    *)
        echo "use status/push/pull" && exit 1
        ;;
esac
